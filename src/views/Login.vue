<template>
  <div>
    <div class="login-main">
      <div class="login-main__background-right">
        <svg
          class="login-main__background-right__text-mobile"
          width="176"
          height="53"
          viewBox="0 0 176 53"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M44.3 0.499996H65.6V53H49.55V22.325L35.75 45.65H30.35L16.55 22.325V53H0.5V0.499996H21.8L33.05 18.95L44.3 0.499996ZM115.268 53L112.568 44.975H95.2432L92.6182 53H73.1182L93.1432 0.499996H114.518L134.768 53H115.268ZM99.5182 32H108.293L103.868 18.65L99.5182 32ZM186.241 0.499996V15.125H161.641V53H145.291V0.499996H186.241Z"
            fill="#EC515A"
            fill-opacity="0.85"
          />
        </svg>
        <svg
          class="login-main__background-right__text-desktop"
          width="321"
          height="395"
          viewBox="0 0 321 395"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M329.572 0.899973H489.464V395H368.982V164.733L265.39 339.826H224.854L121.262 164.733V395H0.780001V0.899973H160.672L245.122 139.398L329.572 0.899973Z"
            fill="#EC515A"
            fill-opacity="0.75"
          />
        </svg>
      </div>

      <div class="login-main__container">
        <div class="login-main__container__card">
          <div class="login-main__container__card__logo">
            <svg
              class="login-main__container__card__logo__svg-mobile"
              width="179"
              height="38"
              viewBox="0 0 179 38"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M0 13.3743V27.0924C2.52702 26.8517 4.33204 25.7687 4.93371 22.7604V14.0963C5.29471 11.4489 6.85906 10.0049 9.26575 9.64392H32.1869V4.71021H8.66408C5.89639 5.19154 4.57271 5.91355 2.52702 7.8389C1.08301 9.64392 0.361003 10.8473 0 13.3743Z"
                fill="#E30613"
              />
              <path
                d="M9.26575 14.5779V27.0927H13.1164V20.8353L16.1248 24.325L19.0128 20.8353V27.0927H22.8635V14.5779H19.2535L16.1248 18.5489L12.9961 14.5779H9.26575Z"
                fill="#E30613"
              />
              <path
                d="M0 37.025V32.1465H22.8635C25.3605 31.556 26.9549 30.3415 27.2578 27.3331V19.1504C27.2578 16.9844 29.2413 14.698 32.1293 14.698V28.0551C31.9188 30.492 31.2869 31.7855 29.7226 33.8312C27.6769 35.7565 26.2329 36.5989 23.1042 37.025H11.5521H0Z"
                fill="#E30613"
              />
              <path
                d="M58.744 12.8H66.128V31H60.564V20.366L55.78 28.452H53.908L49.124 20.366V31H43.56V12.8H50.944L54.844 19.196L58.744 12.8ZM83.3463 31L82.4103 28.218H76.4043L75.4943 31H68.7343L75.6763 12.8H83.0863L90.1063 31H83.3463ZM77.8863 23.72H80.9283L79.3943 19.092L77.8863 23.72ZM107.95 12.8V17.87H99.4222V31H93.7542V12.8H107.95ZM129.394 12.8V31H123.752V24.396H117.512V31H111.844V12.8H117.512V19.326H123.752V12.8H129.394ZM146.109 12.8H151.621V31H145.979V21.484L139.557 31H134.071V12.8H139.713V22.29L146.109 12.8ZM170.963 12.8V17.61H165.945V31H160.277V17.61H155.259V12.8H170.963Z"
                fill="#E30613"
              />
            </svg>
            <svg
              class="login-main__container__card__logo__svg-desktop"
              width="214"
              height="48"
              viewBox="0 0 214 48"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M0 17.0364V34.5107C3.21894 34.2041 5.51819 32.8245 6.28461 28.9925V17.9561C6.74446 14.5839 8.73714 12.7445 11.8028 12.2846H41V6H11.0364C7.51087 6.61313 5.82476 7.53283 3.21894 9.98536C1.37955 12.2846 0.459849 13.8174 0 17.0364Z"
                fill="#E30613"
              />
              <path
                d="M11.8027 18.5693V34.5108H16.7078V26.5401L20.5399 30.9853L24.2187 26.5401V34.5108H29.1237V18.5693H24.5252L20.5399 23.6277L16.5545 18.5693H11.8027Z"
                fill="#E30613"
              />
              <path
                d="M0 47.1627V40.9485H29.1238C32.3045 40.1963 34.3354 38.6492 34.7212 34.8171V24.3939C34.7212 21.6348 37.2478 18.7224 40.9266 18.7224V35.7368C40.6585 38.8409 39.8536 40.4886 37.8609 43.0944C35.2551 45.5469 33.4157 46.6199 29.4304 47.1627H14.7152H0Z"
                fill="#E30613"
              />
              <path
                d="M74.608 15.6H83.696V38H76.848V24.912L70.96 34.864H68.656L62.768 24.912V38H55.92V15.6H65.008L69.808 23.472L74.608 15.6ZM104.888 38L103.736 34.576H96.3437L95.2237 38H86.9037L95.4477 15.6H104.568L113.208 38H104.888ZM98.1677 29.04H101.912L100.024 23.344L98.1677 29.04ZM135.17 15.6V21.84H124.674V38H117.698V15.6H135.17ZM161.561 15.6V38H154.617V29.872H146.937V38H139.961V15.6H146.937V23.632H154.617V15.6H161.561ZM182.135 15.6H188.919V38H181.975V26.288L174.071 38H167.319V15.6H174.263V27.28L182.135 15.6ZM212.724 15.6V21.52H206.548V38H199.572V21.52H193.396V15.6H212.724Z"
                fill="#E30613"
              />
            </svg>
          </div>

          <form
            class="login-main__container__card__login-form"
            @submit.prevent="submitHandler"
          >
           <!-- <div class="login-main__container__card__login-form__inp-frame">
              <input
                id="i_email"
                class="login-main__container__card__login-form__inp-frame__input"
                placeholder="Логин"
                type="text"
                v-model.trim="email"
                :class="{
                  invalid:
                    ($v.email.$dirty && !$v.email.required) ||
                    ($v.email.$dirty && !$v.email.email),
                }"
              />
            </div>

            <div class="login-main__container__card__login-form__inp-frame">
              <input
                id="i_password"
                class="login-main__container__card__login-form__inp-frame__input"
                placeholder="Пароль"
                type="password"
                v-model.trim="password"
                :class="{
                  invalid: $v.password.$dirty && !$v.password.required,
                }"
              />
            </div>
            <div class="wraper"></div>
            <div class="login-main__container__card__login-form__sel-container">
              <select
                required
                class="login-main__container__card__login-form__sel-container__select"
                id="i_role"
                name=""
              >
                <option selected disabled>Выберите роль</option>
                <option class="option">Администратор</option>
                <option class="option">Модератор</option>
                <option class="option">Пользователь</option>
              </select>
            </div>-->
            <div class="wraper"></div>
            <button
              class="login-main__container__card__login-form__button"
              type="submit"
            >
              Войти с помощью Active Directory
            </button>
          </form>
        </div>
      </div>

      <div class="login-main__background-left">
        <svg
          class="login-main__background-left__text-mobile"
          width="163"
          height="53"
          viewBox="0 0 163 53"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M42.125 0.499996V53H25.85V33.95H7.85V53H-8.5V0.499996H7.85V19.325H25.85V0.499996H42.125ZM90.3441 0.499996H106.244V53H89.9691V25.55L71.4441 53H55.6191V0.499996H71.8941V27.875L90.3441 0.499996ZM162.038 0.499996V14.375H147.563V53H131.213V14.375H116.738V0.499996H162.038Z"
            fill="#AE000A"
            fill-opacity="0.85"
          />
        </svg>

        <svg
          class="login-main__background-left__text-desktop"
          width="191"
          height="264"
          viewBox="0 0 191 264"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M83.788 0.099982H190.856V264H110.178V109.807L40.81 227.054H13.666L-55.702 109.807V264H-136.38V0.099982H-29.312L27.238 92.842L83.788 0.099982Z"
            fill="#AE000A"
            fill-opacity="0.85"
          />
        </svg>
      </div>
    </div>

    <footer class="footer">
      <a class="footer__logo-link" href="https://magnit.ru/">
        <img
          class="footer__logo light-hover"
          src="img/Лого футер.svg"
          alt="footer-logo"
        />
      </a>
      <p class="footer__text text-support">
        Техническая поддержка: <br />
        8 800 200-90-02
      </p>
      <a href="https://magnit.ru/" class="footer__text text-policy light-hover">
        Политика обработки персональных данных
      </a>
    </footer>
  </div>
</template>

<script>
import { email, required } from "vuelidate/lib/validators";
export default {
  name: "login",
  data: () => ({
    email: "",
    password: "",
  }),
  validations: {
    email: { email, required },
    password: { required },
  },
  methods: {
    async submitHandler() {
      if (this.$v.$invalid) {
        this.$v.$touch();
        console.log("return");
        return;
      }
      

      const formData = {
        email: this.email,
        password: this.password,
      };

      try {
        // отправка данных на сервер, обработка
        let isAdmin = true;
        let isModerator = false;        
        if (isAdmin || isModerator) {
          this.$router.push("/numbers");
        } else {
          this.$router.push("/lk");
        }
      } catch (e) {
        console.log(e);
      }
    },
  },
};
</script>

<style lang="scss">
@import "../../public/css/login_style.css";
.invalid {
  color: red;
  /* поменять */
}
</style>
